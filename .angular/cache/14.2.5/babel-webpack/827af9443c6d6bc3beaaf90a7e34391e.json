{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/win.service\";\nimport * as i2 from \"ngx-cookie-service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../games/game1/game1.component\";\nimport * as i6 from \"../games/game2/game2.component\";\n\nfunction GameDisplayComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\");\n    i0.ɵɵtext(2, \"VICTORY\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function GameDisplayComponent_div_2_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.redoGame());\n    });\n    i0.ɵɵtext(4, \"Play Again\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction GameDisplayComponent_div_2_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-game1\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameDisplayComponent_div_2_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-game2\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GameDisplayComponent_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, GameDisplayComponent_div_2_div_2_div_1_Template, 2, 0, \"div\", 4);\n    i0.ɵɵtemplate(2, GameDisplayComponent_div_2_div_2_div_2_Template, 2, 0, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.game.name === \"game1\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.game.name === \"game2\");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\n\nfunction GameDisplayComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, GameDisplayComponent_div_2_div_1_Template, 5, 0, \"div\", 3);\n    i0.ɵɵtemplate(2, GameDisplayComponent_div_2_div_2_Template, 3, 2, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, ctx_r0.hasWon ? \"darkgreen\" : \"white\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasWon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hasWon);\n  }\n}\n\nexport let GameDisplayComponent = /*#__PURE__*/(() => {\n  class GameDisplayComponent {\n    constructor(winService, cookieService, http) {\n      this.winService = winService;\n      this.cookieService = cookieService;\n      this.http = http;\n      this.hasWon = false;\n      this.winService.winAnnounced$.subscribe(cookieName => {\n        this.checkWin(cookieName);\n      });\n    }\n\n    ngOnChanges() {\n      window.scrollTo(0, 0);\n      this.http.get('/assets/games.json').subscribe(data => {\n        const matchedGame = data.find(game => game.name === this.currentGameName);\n\n        if (matchedGame) {\n          this.currentGameDisplayName = matchedGame.displayName;\n        }\n      });\n\n      if (this.cookieService.get(this.currentGameName + 'Won')) {\n        this.checkWin(this.currentGameName + 'Won');\n      } else {\n        this.hasWon = false;\n      }\n    }\n\n    checkWin(cookieName) {\n      this.hasWon = true;\n      this.cookieService.set(cookieName, 'true', 60);\n      this.winService.announceGameListReload();\n    }\n\n    redoGame() {\n      this.cookieService.delete(this.currentGameName + 'Won');\n      this.winService.announceGameListReload();\n      this.hasWon = false;\n    }\n\n  }\n\n  GameDisplayComponent.ɵfac = function GameDisplayComponent_Factory(t) {\n    return new (t || GameDisplayComponent)(i0.ɵɵdirectiveInject(i1.WinService), i0.ɵɵdirectiveInject(i2.CookieService), i0.ɵɵdirectiveInject(i3.HttpClient));\n  };\n\n  GameDisplayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GameDisplayComponent,\n    selectors: [[\"app-game-display\"]],\n    inputs: {\n      game: \"game\",\n      currentGameName: \"currentGameName\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"display-title\"], [\"class\", \"large-box\", 3, \"ngStyle\", 4, \"ngIf\"], [1, \"large-box\", 3, \"ngStyle\"], [\"class\", \"game-won-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"game-won-container\"], [3, \"click\"]],\n    template: function GameDisplayComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, GameDisplayComponent_div_2_Template, 3, 5, \"div\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.currentGameDisplayName);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.game);\n      }\n    },\n    dependencies: [i4.NgIf, i4.NgStyle, i5.Game1Component, i6.Game2Component],\n    styles: [\".large-box[_ngcontent-%COMP%]{width:80%;margin:10px auto 40px;height:80vh;border:2px solid black;display:flex;justify-content:center;align-items:center;font-size:24px;background-color:#fff;position:relative}.display-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.game-won-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:25%;left:50%;transform:translate(-50%)}.game-won-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:max-content;color:#fff;font-size:2em;margin-bottom:20px}.game-won-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:max-content;margin-top:40%;padding:10px 20px;font-size:1.2em;cursor:pointer;background-color:#1976d2;color:#fff;border:none;border-radius:5px;transition:background-color .3s}.game-won-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#1565c0}.game-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.moving-box[_ngcontent-%COMP%]{width:5%}\"]\n  });\n  return GameDisplayComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}